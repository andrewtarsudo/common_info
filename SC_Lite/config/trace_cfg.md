---
title : "trace.cfg"
description : "Файл настройки подсистемы журналирования"
weight : 3
---

В файле настраиваются параметры создания журналов.

Ключ для reload - **reload trace.cfg**.

## Описание параметров
|Name|Description|Type|Default|O/M|P/R|Version|
|:---|:----------|:---|:------|:--|:--|:------|
|**[Trace]**||
|<a name="common">common</a>|Общие настройки системы журналирования.|object||O|R||
|tracing|Флаг активности системы журналирования.|bool|1|O|R||
|dir|Путь к директории, в которой находятся журналы.<br>**Примечание.** Путь может содержать ".." и маску формата времени.|string|от каталога по умолчанию|O|R||
|no_signal|Набор сигналов, не перехватываемых системой журналирования.<br>Значение all - не перехватывать никакие сигналы.|list, int<br>через запятую|перехватывать все сигналы|O|R||
|logs|Конфигурация журналов.|object||O|R||
|name|Наименование журнала.|string||O|R||
|[mask](#mask)|Маска формата вывода автоматических полей в журнале.|string||O|R||
|file|Путь к файлу лога.<br>**Примечание.** При указании несуществующих директорий система создает все необходимые каталоги. Допускается задание пустого имени файла, если значение параметра level равно 0. В этом случае запись производится согласно параметру tee. При отсутствии этого параметра, запись на диск не производится.<br>Путь может содержать ".." и маску формата времени.|string|от каталога по умолчанию|O|R||
|level|Уровень журнала.<br>**Примечание.** Сообщения с уровнем большим, чем значение, игнорируются.|int||O|R||
|[period](#period)|Период обновления файла лога.<br>Формат: interval + shift<br>interval - интервал между соседними обновлениями;<br>shift - первоначальный сдвиг.<br>**Примечание.** Сдвиг не может быть больше длины периода, и в случае некорректного значения игнорируется.|object||O|R||
|[buffering](#buffering)|Настройки буферизированной записи.|object||O|R||
|separator|Разделитель автоматических полей.<br>**Примечание.** Весь вывод времени date, time, tick рассматривается как одно поле.|string|значение [common](#common)|O|R||
|[type](#type)|Тип журнала и дополнительные настройки.|string||O|R||
|tee|Дублирование потока вывода. Возможные значения:<br>stdout/cout/info/имя любого лога.<br>**Примечание.** При знаке минуса "–" не пишется имя исходного лога при дублировании.|string||O|R||
|limit|Максимальное количество строк в файле.<br>**Примечание.** Как только достигнут предел строк, лог автоматически открывается заново. При этом не исследуется реальное количество строк в файле на данный момент. Если имя файла зависит от времени, то открывается новый файл, иначе файл обнуляется.|int||O|R||
<br>

### Модификаторы <a name="mask">mask</a>
Описание параметров
* date - дата создания. Формат: DD/MM/YY;
* time - время создания. Формат: hh:mm:ss;
* tick - миллисекунды. Формат:
  * если задано time - .mss, три цифры;
  * если не задано time - .mssmss, шесть цифр.
* state - состояние системы;
* pid - идентификатор процесса. Формат: шесть цифр;
* tid - идентификатор потока. Формат: шесть цифр;
* level - уровень журнала для записи;
* file - файл и строка в файле с исходным кодом, откуда производится вывод.

### Модификаторы <a name="buffering">buffering</a>
Описание параметров:
* count - текущее время для имени файла, количество стандартных периодов;
* type - вид временного периода. Возможные значения:
  * sec - секунда;
  * min - минута;
  * hour - час;
  * day - день;
  * week - неделя;
  * month - месяц;
  * year - год.
<br>

### Модификаторы <a name="period">period</a>
Возможные значения:
* name_now - текущее время для имени файла;
* name_period - время для имени файла, начало периода;
* truncate - файл при открытии обнуляется;
* append - файл при открытии не обнуляется, а дописывается;
* log - состоит из truncate и name_now, при падении пишется информация о сигнале;
* cdr - состоит из append и name_now, при падении не пишется информация о сигнале.

### Модификаторы <a name="type">type</a>
#### Описание параметров
|Name|Description|Type|Default|O/M|P/R|
|:---|:----------|:---|:------|:--|:--|
|cluster_size|Размер кластера.|int Kb|128|O|R|
|clusters_in_buffer|Длина буфера в кластерах.|int|0|O|R|
|overflow_action|Действие при переполнении буфера.<br>erase - удаление;<br> dump - запись.|string|dump|O|R|
